{% extends "base.html.twig" %}

{% block metadata %}
    {% if app.request.locale == 'nl' %}
        {% set page = 'search' %}
        <title>Ensie van {% if ensieUser.isCompany %}{{ ensieUser.companyName }}{% else %}{{ ensieUser.formattedName }}{% endif %}</title>
        <meta name="description" content="Lees alle beschreven onderwerpen in de Ensie van {% if ensieUser.isCompany %}{{ ensieUser.companyName }}{% else %}{{ ensieUser.formattedName }}{% endif %}">
        <meta name="keywords" content="ensie, betekenis, definitie, definities, encyclopedie, woordenboek, expert" />
    {% else %}
        {% set page = 'search' %}
        <title>Ensie by {% if ensieUser.isCompany %}{{ ensieUser.companyName }}{% else %}{{ ensieUser.formattedName }}{% endif %}</title>
        <meta name="description" content="Read all the defined subjects in the Ensie by {% if ensieUser.isCompany %}{{ ensieUser.companyName }}{% else %}{{ ensieUser.formattedName }}{% endif %}">
        <meta name="keywords" content="Ensie, meaning, definition, definitions, encyclopedia, dictionary, expert" />
    {% endif %}
{% endblock %}

{% block content %}
    {% if ensieUser.isCompany and ensieUser.headerImage %}
        <section class="businessoverviewpage">
            <header class="businessoverview-header" style="background-image: url({{ getCompanyHeaderImage(ensieUser, 'header_max') }})">
                <div class="business-info"></div>
            </header>
        </section>
    {% endif %}
    {% if ensieUser.isCompany and ensieUser.headerImage %}
        <section class="businessoverviewpage">
    {% else %}
        <section class="profilepage">
    {% endif %}
        <div class="wrapper">
            <div class="work-list">
                <header>
                    <h1>
                        {% if ensieUser.isCompany %}
                            {{ simpleText('detail_user.definition_and_meaning_%formattedname%', {'formattedname': ensieUser.companyName}) }}{{ simpleTextSonataAdminLink('detail_user.definition_and_meaning_%formattedname%')|raw }}
                        {% else %}
                            {{ simpleText('detail_user.definition_and_meaning_%formattedname%', {'formattedname': ensieUser.formattedName}) }}{{ simpleTextSonataAdminLink('detail_user.definition_and_meaning_%formattedname%')|raw }}
                        {% endif %}
                        </h1>
                </header>

                {% for ensie in ensieList %}
                <div class="list">
                    <h2>{{ ensie.title }}</h2>

                    <ul>
                        {% for definition in ensie.definitions  %}
                        <li><a href="{{ definitionPath(definition) }}">{{ definition.word }}</a></li>
                        {% endfor %}
                    </ul>
                </div>
                {% endfor %}
            </div>


            <aside class="profile">
                {% embed 'EnsieUserBundle:User:profileWrapper.html.twig' with { 'ensieUser': ensieUser } %}
                    {% block overlays_extra %}
                    {% endblock %}
                    {% block bio %}
                        <div class="bio">
                            <p>{{ ensieUser.bio }}</p>
                        </div>
                    {% endblock %}
                {% endembed %}
                <ul class="profilestats">
                    <li class="ensies" data-title="{{ simpleText('detail_user.profile_ensies_data_title') }}">
                        {{ ensieUserStats.ensieCount }}
                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 41.3 52.1" enable-background="new 0 0 41.3 52.1" xml:space="preserve"><path d="M34.6 4.9c0 0.1 0 0.1 0.1 0.2 0.1 0.3 0.2 0.6 0.3 1 0 0 0 0.1 0 0.1 0.1 0.3 0.2 0.6 0.3 0.9 0 0 0 0 0 0.1 0.1 0.3 0.2 0.7 0.3 1 0 0 0 0.1 0 0.1 0.3 1.4 0.6 2.7 0.7 3.9h0c0.1 0.6 0.1 1.2 0.1 1.7h4.8V0h-2.5H0v3.8l4.7 0.4 1.2 1.2 0 20.6 0 20.6 -1.2 1.2L0 48.3v3.8h38.7 2.5V38.2h-4.8c0 0.6-0.1 1.1-0.1 1.7h0c-0.1 1.2-0.4 2.5-0.7 3.9 0 0 0 0.1 0 0.1 -0.1 0.3-0.2 0.7-0.3 1 0 0 0 0 0 0.1 -0.1 0.3-0.2 0.6-0.3 0.9 0 0 0 0.1 0 0.1 -0.1 0.3-0.2 0.6-0.3 1 0 0.1 0 0.1-0.1 0.2 0 0.1-0.1 0.2-0.1 0.4H13.9c1-2.3 4-10.9 0.2-20.1h12.4c0.6 1.5 1.2 3.8 1.4 6.8h4.1V16.2H28c-0.2 2.9-0.8 5.1-1.4 6.6H14.8c2.8-8.9-0.2-16.7-1-18.5h20.5C34.4 4.5 34.5 4.7 34.6 4.9z"/></svg>
                    </li>
                    <li class="words" data-title="{{ simpleText('detail_user.profile_words_data_title') }}">
                        {{ ensieUserStats.definitionCount }}
                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 30.4 56.4" enable-background="new 0 0 30.4 56.4" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" d="M28.7 28.2c0 6.2-11.3 25.7-11.8 26.5 -0.2 0.3-0.5 0.4-0.8 0.4h-1.8c-0.3 0-0.6-0.2-0.8-0.4C13.1 53.9 1.7 35.2 1.7 28.2c0-5.9 3.8-10.8 9-12.7V12H9.8c-0.4 0-0.7-0.3-0.9-0.6l-2.7-9c-0.1-0.3 0-0.6 0.1-0.8 0.2-0.2 0.4-0.4 0.7-0.4h16.2c0.3 0 0.6 0.1 0.7 0.4 0.2 0.2 0.2 0.5 0.1 0.8l-2.7 9C21.4 11.7 21 12 20.6 12h-0.9v3.5C24.9 17.3 28.7 22.3 28.7 28.2zM15.2 32.7c1.5 0 2.7-1.2 2.7-2.7 0-1.5-1.2-2.7-2.7-2.7s-2.7 1.2-2.7 2.7C12.5 31.5 13.7 32.7 15.2 32.7zM3.5 28.2c0 5.6 8.2 20 10.8 24.3V34.4c-2-0.4-3.6-2.2-3.6-4.4 0-2.5 2-4.5 4.5-4.5 2.5 0 4.5 2 4.5 4.5 0 2.2-1.5 4-3.6 4.4v18.1c3.6-6.3 10.8-19.9 10.8-24.3 0-6.4-5.2-11.7-11.7-11.7S3.5 21.7 3.5 28.2zM22.1 3H8.3l2.2 7.2h9.5L22.1 3zM17.9 12h-5.4v3c0.9-0.2 1.8-0.3 2.7-0.3 0.9 0 1.8 0.1 2.7 0.3V12zM16.1 55.7h-1.8c-0.5 0-0.9-0.2-1.2-0.7C11.9 53 1.2 35.2 1.2 28.2c0-5.8 3.6-11 9-13.1v-2.6H9.8c-0.6 0-1.2-0.4-1.3-1l-2.7-9C5.7 2.1 5.7 1.6 6 1.3c0.3-0.4 0.7-0.6 1.1-0.6h16.2c0.4 0 0.9 0.2 1.1 0.6 0.3 0.4 0.3 0.8 0.2 1.2l-2.7 9c-0.2 0.6-0.7 1-1.3 1h-0.4v2.6c5.4 2.1 9 7.3 9 13.1 0 6.2-10.7 24.7-11.9 26.8C17.1 55.4 16.6 55.7 16.1 55.7zM7.1 1.7C7 1.7 6.9 1.7 6.8 1.9 6.7 2 6.7 2.1 6.7 2.2l2.7 9c0.1 0.2 0.2 0.3 0.4 0.3h1.4v4.3l-0.3 0.1c-5.2 1.8-8.7 6.8-8.7 12.2 0 5.5 7.4 19.1 11.8 26.3 0.1 0.1 0.2 0.2 0.3 0.2h1.8c0.1 0 0.3-0.1 0.3-0.2 0.5-0.8 11.7-20.3 11.7-26.3 0-5.5-3.5-10.4-8.7-12.2l-0.3-0.1v-4.3h1.4c0.2 0 0.3-0.1 0.4-0.3l2.7-9c0-0.1 0-0.3-0.1-0.4 -0.1-0.1-0.2-0.2-0.3-0.2H7.1zM15.6 54.3V34l0.4-0.1c1.9-0.4 3.2-2 3.2-3.9 0-2.2-1.8-4-4-4 -2.2 0-4 1.8-4 4 0 1.9 1.3 3.5 3.2 3.9l0.4 0.1v20.3l-0.9-1.6C11.3 48.4 3 33.9 3 28.2 3 21.5 8.5 16 15.2 16c6.7 0 12.2 5.5 12.2 12.2 0 5.3-9.7 22.6-10.9 24.5L15.6 54.3zM15.2 17C9 17 4 22 4 28.2c0 4.9 6.6 17 9.8 22.5V34.8c-2.1-0.6-3.6-2.6-3.6-4.8 0-2.8 2.2-5 5-5 2.8 0 5 2.2 5 5 0 2.2-1.5 4.2-3.6 4.8v15.8c4-7.2 9.8-18.6 9.8-22.4C26.4 22 21.4 17 15.2 17zM15.2 33.2c-1.8 0-3.2-1.4-3.2-3.2s1.4-3.2 3.2-3.2 3.2 1.4 3.2 3.2S17 33.2 15.2 33.2zM15.2 27.8c-1.2 0-2.2 1-2.2 2.2s1 2.2 2.2 2.2c1.2 0 2.2-1 2.2-2.2S16.4 27.8 15.2 27.8zM18.4 15.6l-0.6-0.1c-1.7-0.3-3.5-0.3-5.2 0L12 15.6v-4.1h6.4V15.6zM13 12.5v1.9c1.5-0.2 3-0.2 4.4 0v-1.9H13zM20.3 10.7H10.1L7.7 2.5h15.1L20.3 10.7zM10.9 9.7h8.7l1.9-6.2H9L10.9 9.7z"/><path d="M16.1 55.6h-1.8c-0.5 0-0.9-0.2-1.1-0.6C12 52.9 1.3 35.2 1.3 28.2c0-5.8 3.6-11 9-13v-2.8H9.8c-0.6 0-1.1-0.4-1.3-0.9l-2.7-9c-0.1-0.4 0-0.8 0.2-1.2C6.3 1 6.7 0.8 7.1 0.8h16.2c0.4 0 0.8 0.2 1.1 0.5 0.3 0.3 0.3 0.8 0.2 1.2l-2.7 9c-0.2 0.6-0.7 0.9-1.3 0.9h-0.5v2.8c5.4 2 9 7.2 9 13 0 6.3-11.4 25.9-11.9 26.8C17 55.3 16.6 55.6 16.1 55.6zM7.1 1.6C7 1.6 6.8 1.7 6.7 1.8 6.6 1.9 6.6 2.1 6.7 2.2l2.7 9c0.1 0.2 0.2 0.3 0.5 0.3h1.3v4.2l-0.3 0.1c-5.2 1.8-8.7 6.8-8.7 12.3 0 6.9 11.3 25.5 11.8 26.3 0.1 0.1 0.2 0.2 0.4 0.2h1.8c0.2 0 0.3-0.1 0.4-0.2 4.1-7 11.8-21.5 11.8-26.3 0-5.5-3.5-10.5-8.7-12.3l-0.3-0.1v-4.2h1.3c0.2 0 0.4-0.1 0.5-0.3l2.7-9c0-0.1 0-0.3-0.1-0.4 -0.1-0.1-0.2-0.2-0.4-0.2H7.1zM15.7 54.1V34L16 34c1.9-0.4 3.3-2.1 3.3-4 0-2.2-1.8-4.1-4.1-4.1s-4.1 1.8-4.1 4.1c0 1.9 1.4 3.6 3.3 4l0.3 0.1v20l-0.8-1.3C11.4 48.4 3.1 33.9 3.1 28.2c0-6.7 5.4-12.1 12.1-12.1s12.1 5.4 12.1 12.1c0 5.2-9.7 22.5-10.9 24.5L15.7 54.1zM15.2 16.9C9 16.9 3.9 22 3.9 28.2c0 5 6.8 17.4 9.9 22.8V34.7c-2.1-0.6-3.6-2.5-3.6-4.7 0-2.7 2.2-4.9 4.9-4.9s4.9 2.2 4.9 4.9c0 2.2-1.5 4.2-3.6 4.7v16.1c4-7.2 9.9-18.8 9.9-22.7C26.5 22 21.4 16.9 15.2 16.9zM15.2 33.1c-1.7 0-3.1-1.4-3.1-3.1 0-1.7 1.4-3.1 3.1-3.1s3.1 1.4 3.1 3.1C18.3 31.7 16.9 33.1 15.2 33.1zM15.2 27.7c-1.3 0-2.3 1-2.3 2.3 0 1.3 1 2.3 2.3 2.3s2.3-1 2.3-2.3C17.5 28.7 16.5 27.7 15.2 27.7zM18.3 15.5l-0.5-0.1c-1.7-0.3-3.5-0.3-5.2 0l-0.5 0.1v-3.9h6.2V15.5zM15.2 14.3c0.8 0 1.5 0.1 2.3 0.2v-2h-4.5v2C13.7 14.3 14.5 14.3 15.2 14.3zM20.3 10.6H10.2l-2.4-8h14.9L20.3 10.6zM10.8 9.8h8.8l1.9-6.3H8.9L10.8 9.8zM16.1 56.1h-1.8c-0.6 0-1.2-0.3-1.6-0.9 -1.2-2-12-19.9-12-27 0-5.8 3.6-11.1 9-13.3v-1.9c-0.8 0-1.5-0.5-1.7-1.3l-2.7-9C5.2 2.1 5.3 1.5 5.7 1 6 0.5 6.5 0.3 7.1 0.3h16.2c0.6 0 1.1 0.3 1.5 0.7 0.3 0.5 0.4 1.1 0.3 1.6l-2.7 9c-0.2 0.8-0.9 1.3-1.7 1.3v1.9c5.4 2.2 9 7.5 9 13.3 0 6.5-11.5 26.2-11.9 27C17.4 55.7 16.8 56.1 16.1 56.1zM15.2 17.4c-5.9 0-10.8 4.8-10.8 10.8 0 4.4 5.7 15.1 9 20.9v-14c-2.1-0.8-3.6-2.8-3.6-5.1 0-3 2.4-5.4 5.4-5.4s5.4 2.4 5.4 5.4c0 2.3-1.5 4.3-3.6 5.1v13.8c4.3-7.9 9-17.5 9-20.7C26 22.2 21.2 17.4 15.2 17.4zM15.2 28.2c-1 0-1.8 0.8-1.8 1.8s0.8 1.8 1.8 1.8S17 31 17 30 16.2 28.2 15.2 28.2zM15.2 13.8c0.6 0 1.2 0 1.8 0.1v-1h-3.6v1C14 13.8 14.6 13.8 15.2 13.8zM11.2 9.3h8.1l1.6-5.4H9.6L11.2 9.3z"/></svg>
                    </li>
                    <li class="views" data-title="{{ simpleText('detail_user.profile_views_data_title') }}">
                        {{ ensieUserStats.viewCount }}
                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 57.6 23.7" enable-background="new 0 0 57.6 23.7" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" d="M55.6 12.8c-0.5 0-0.9-0.4-0.9-1 0-2-0.4-4-1.2-5.8 -0.2-0.5 0-1.1 0.4-1.3 0.5-0.2 1 0 1.2 0.5 0.9 2.1 1.4 4.3 1.4 6.6C56.5 12.4 56.1 12.8 55.6 12.8zM41.8 22.6c-5.6 0-10.1-4.8-10.1-10.7 0-1.6-1.2-2.9-2.8-2.9s-2.8 1.3-2.8 2.9c0 5.9-4.5 10.7-10.1 10.7 -5.6 0-10.1-4.8-10.1-10.7C5.9 5.9 10.4 1.1 16 1.1c4.5 0 8.3 3.1 9.6 7.3 0.8-0.9 2-1.5 3.3-1.5s2.5 0.6 3.3 1.5c1.3-4.3 5.1-7.3 9.6-7.3 5.6 0 10.1 4.8 10.1 10.7C51.9 17.8 47.4 22.6 41.8 22.6zM16 3C11.4 3 7.7 7 7.7 11.8c0 4.8 3.7 8.8 8.3 8.8 4.6 0 8.3-3.9 8.3-8.8C24.3 7 20.6 3 16 3zM41.8 3c-4.6 0-8.3 3.9-8.3 8.8 0 4.8 3.7 8.8 8.3 8.8s8.3-3.9 8.3-8.8C50.1 7 46.4 3 41.8 3zM3.1 11.8c0 0.5-0.4 1-0.9 1s-0.9-0.4-0.9-1c0-2.3 0.5-4.6 1.4-6.6 0.2-0.5 0.8-0.7 1.2-0.5C4.4 5 4.5 5.5 4.3 6 3.5 7.8 3.1 9.8 3.1 11.8z"/><path d="M41.8 23.7c-6.2 0-11.2-5.3-11.2-11.8 0-1-0.8-1.8-1.7-1.8 -0.9 0-1.7 0.8-1.7 1.8 0 6.5-5 11.8-11.2 11.8 -6.2 0-11.2-5.3-11.2-11.8S9.8 0 16 0c4.3 0 8.2 2.6 10.1 6.6 1.7-1 3.9-1 5.6 0 1.9-4 5.7-6.6 10.1-6.6C48 0 53 5.3 53 11.8S48 23.7 41.8 23.7zM41.8 4.1c-4 0-7.2 3.5-7.2 7.7 0 4.2 3.2 7.7 7.2 7.7s7.2-3.5 7.2-7.7C49 7.6 45.8 4.1 41.8 4.1zM16 4.1c-4 0-7.2 3.5-7.2 7.7 0 4.2 3.2 7.7 7.2 7.7s7.2-3.5 7.2-7.7C23.2 7.6 20 4.1 16 4.1zM55.6 13.9c-1.1 0-2-0.9-2-2.1 0-1.9-0.4-3.7-1.1-5.4 -0.5-1 0-2.2 1-2.7 1-0.5 2.3 0 2.7 1 1 2.2 1.5 4.6 1.5 7.1C57.6 13 56.7 13.9 55.6 13.9zM2.2 13.9c-1.1 0-2-0.9-2-2.1 0-2.5 0.5-4.9 1.5-7.1 0.5-1 1.7-1.5 2.7-1 1 0.5 1.4 1.7 0.9 2.7C4.6 8.2 4.2 10 4.2 11.8 4.2 13 3.3 13.9 2.2 13.9z"/></svg>
                    </li>
                    <li class="favorites" data-title="{{ simpleText('detail_user.profile_favorites_data_title') }}">
                        {{ ensieUserStats.favoriteCount }}
                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 98.6 92.6" enable-background="new 0 0 98.6 92.6" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" d="M20.7 89.1l7.1-31.7L4.1 35.5l31.1-4.9L49.3 4l14.1 26.6 31.1 4.9L70.8 57.4l6.7 31.7L49.3 74.4 20.7 89.1zM49.3 69.5L71.4 81l-5.3-25.2L85 38.5l-24.3-3.8L49.3 13.1 37.9 34.6l-24.3 3.8 18.9 17.4L26.9 81 49.3 69.5z"/><path d="M80.1 92.6L49.3 76.5 18 92.6l7.8-34.5L0 34.3l34-5.4L49.3 0l15.4 28.9 34 5.4L72.9 58.1 80.1 92.6zM8.3 36.8l21.6 20 -6.5 28.8 25.9-13.3 25.5 13.3 -6.1-28.8 21.6-20 -28.1-4.4L49.3 8 36.4 32.3 8.3 36.8zM74.1 84.6L49.3 71.6 24.2 84.6l6.3-28L9.5 37.2l27.2-4.3L49.3 9.1l12.6 23.8 27.2 4.3L68.2 56.5 74.1 84.6zM17.8 39.7l16.8 15.5 -5 22.3 19.7-10.1 19.4 10.1 -4.7-22.3 16.8-15.5 -21.4-3.4L49.3 17.2 39.1 36.3 17.8 39.7z"/></svg>
                    </li>
                </ul>
                {{ simpleTextSonataAdminLink('detail_user.profile_ensies_data_title')|raw }}
                {{ simpleTextSonataAdminLink('detail_user.profile_words_data_title')|raw }}
                {{ simpleTextSonataAdminLink('detail_user.profile_views_data_title')|raw }}
                {{ simpleTextSonataAdminLink('detail_user.profile_favorites_data_title')|raw }}
            </aside>
        </div>
    </section>
{% endblock %}

{% block overlays %}
    {% use 'EnsieUserBundle:User:profileWrapper.html.twig' %}
    {{ block('overlays_extra') }}
    {{ parent() }}
{% endblock %}