{% block profilewrapper %}
    <div class="profilewrapper">
        {% block profiledata %}
            <a href="{{ path('user_detail', {'userSlug': ensieUser.slug}) }}" class="profilepicture">
                <img src="{{ getProfileImage(ensieUser, 'small') }}"/>
            </a>
            {% if ensieUser.isCompany %}
                <h3><a href="{{ path('user_detail', {'userSlug': ensieUser.slug}) }}">{{ ensieUser.companyName }}</a></h3>
                <p>{% if ensieUser.headline is null or ensieUser.headline == '' %}{{ simpleText('user.empty_headline') }}{{ simpleTextSonataAdminLink('user.empty_headline') | raw }}{% else %}{{ ensieUser.headline }}{% endif %}</p>
            {% else %}
                <h3><a href="{{ path('user_detail', {'userSlug': ensieUser.slug}) }}">{{ ensieUser.formattedName }}</a></h3>
                <p>{% if ensieUser.headline is null or ensieUser.headline == '' %}{{ simpleText('user.empty_headline') }}{{ simpleTextSonataAdminLink('user.empty_headline') | raw }}{% else %}{{ ensieUser.headline }}{% endif %}</p>
            {% endif %}

        {% endblock %}
        {% block socialprofiles %}
            <div class="socialprofiles">
                {% if ensieUser.linkedInUrl is not empty %}
                    <a href="{{ ensieUser.linkedInUrl }}" class="linkedin" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 49.4 49.7"
                             enable-background="new 0 0 49.4 49.7" xml:space="preserve"><path
                                    d="M45.8 0H3.7C1.6 0 0 1.6 0 3.6v42.6c0 2 1.6 3.6 3.7 3.6h42.1c2 0 3.7-1.6 3.7-3.6V3.6C49.4 1.6 47.8 0 45.8 0zM15 41.6H7.5V19.2H15V41.6zM11.2 16.1L11.2 16.1c-2.6 0-4.2-1.7-4.2-3.9 0-2.2 1.7-3.9 4.2-3.9 2.6 0 4.1 1.7 4.2 3.9C15.5 14.4 13.9 16.1 11.2 16.1zM41.9 41.6h-7.5v-12c0-3-1.1-5.1-3.8-5.1 -2.1 0-3.3 1.4-3.8 2.7 -0.2 0.5-0.2 1.1-0.2 1.8v12.5h-7.5c0 0 0.1-20.4 0-22.5h7.5v3.2c1-1.5 2.8-3.7 6.7-3.7 4.9 0 8.6 3.2 8.6 10.1V41.6z"/></svg>
                    </a>
                {% endif %}

                {% if ensieUser.googlePlusUrl is not empty %}
                    <a href="{{ ensieUser.googlePlusUrl }}" class="googleplus" target="_blank" rel="author">
                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 52.9 47.6"
                             enable-background="new 0 0 52.9 47.6" xml:space="preserve"><path
                                    d="M51.8 19.3h-8v-8c0-0.6-0.5-1.1-1.1-1.1h-2.3c-0.6 0-1.1 0.5-1.1 1.1v8h-8c-0.6 0-1.1 0.5-1.1 1.1v2.3c0 0.6 0.5 1.1 1.1 1.1h8v8c0 0.6 0.5 1.1 1.1 1.1h2.3c0.6 0 1.1-0.5 1.1-1.1v-8h8c0.6 0 1.1-0.5 1.1-1.1v-2.3C52.9 19.8 52.4 19.3 51.8 19.3zM25 26.3c-1.7-1.2-3.2-2.9-3.2-3.5 0-1 0.1-1.4 2.3-3.1 2.8-2.2 4.4-5.1 4.4-8.2 0-2.8-0.9-5.3-2.3-7h1.1c0.2 0 0.5-0.1 0.6-0.2L31 2c0.4-0.3 0.6-0.8 0.4-1.2C31.3 0.3 30.9 0 30.4 0h-14c-1.5 0-3.1 0.3-4.6 0.8C6.6 2.6 3 6.9 3 11.4c0 6.3 4.9 11.1 11.5 11.3 -0.1 0.5-0.2 1-0.2 1.5 0 1 0.2 1.9 0.8 2.8 -0.1 0-0.1 0-0.2 0C8.6 27 3 30.1 0.8 34.6 0.3 35.8 0 37 0 38.2c0 1.2 0.3 2.3 0.9 3.3 1.3 2.4 4.2 4.3 8.2 5.3 2 0.5 4.2 0.8 6.4 0.8 2 0 4-0.3 5.7-0.8 5.6-1.6 9.2-5.7 9.2-10.4C30.4 31.8 28.9 29.1 25 26.3zM7.3 36.7c0-3.3 4.2-6.2 9-6.2l0.1 0c1 0 2.1 0.2 3 0.5 0.3 0.2 0.6 0.4 0.9 0.6 2.2 1.5 3.7 2.5 4.1 4.1 0.1 0.4 0.1 0.8 0.1 1.2 0 4.1-3.1 6.2-9.1 6.2C10.9 43.1 7.3 40.3 7.3 36.7zM11.6 5.5c0.7-0.9 1.7-1.3 2.8-1.3l0.1 0c3.1 0.1 6.1 3.5 6.6 7.7 0.3 2.3-0.2 4.5-1.4 5.9 -0.7 0.9-1.7 1.3-2.9 1.3 0 0 0 0 0 0h0c-3-0.1-6.1-3.7-6.6-7.8C10 8.9 10.5 6.8 11.6 5.5z"/></svg>
                    </a>
                {% endif %}

                {% if ensieUser.isPayingCompany and ensieUser.websiteUrl is not empty %}
                    <a href="{{ ensieUser.websiteUrl }}" target="_blank" rel="nofollow">
                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 24.3 24.3" enable-background="new 0 0 24.3 24.3" xml:space="preserve"><path d="M12.1 24.3C5.4 24.3 0 18.8 0 12.1 0 5.4 5.4 0 12.1 0s12.1 5.4 12.1 12.1C24.3 18.8 18.8 24.3 12.1 24.3zM12.1 1.3c-6 0-10.9 4.9-10.9 10.9S6.1 23 12.1 23c6 0 10.9-4.9 10.9-10.9S18.1 1.3 12.1 1.3z"/><path d="M11.1 20.8C10 20.8 9 18.2 9 17.6c0-0.4 0.2-0.7 0.3-1 0.1-0.2 0.2-0.4 0.2-0.5 0-0.1-0.4-0.7-0.8-1 -0.1-0.1-0.2-0.3-0.2-0.5 0-0.4-0.1-0.7-0.2-0.8 -0.2-0.2-0.8-0.2-1.4-0.1 -0.3 0-0.5 0-0.8 0 -1.7 0-2.1-1.7-2.1-2.6 0-0.2 0-4 3-4.6 1.4-0.3 2.3-0.2 2.8 0.3 0.2 0.2 0.3 0.3 0.4 0.5 0.5 0.3 1.4 0.1 2.2-0.1 0.2-0.1 0.5-0.1 0.7-0.1 0.1-0.7 0.1-1.3 0-1.7 -0.6 0.2-1.2 0.2-1.7-0.1 -0.5-0.3-0.9-0.9-0.9-1.6 -0.2-2 3.7-2.9 4.9-3.2 0.3-0.1 0.7 0.1 0.8 0.5 0.1 0.3-0.1 0.7-0.5 0.8 -2 0.4-3.9 1.3-3.9 1.8 0 0.2 0.1 0.5 0.3 0.6 0.2 0.1 0.5 0.1 0.8-0.1 0.3-0.2 0.7-0.2 1 0.1 0.6 0.4 0.7 1.6 0.4 3.6 0 0.3-0.3 0.5-0.6 0.5 -0.2 0-0.6 0.1-1 0.2C11.6 8.7 10.1 9 9.2 8.1 9.1 8 9 7.9 9 7.8c-0.1-0.1-0.5-0.2-1.7 0 -2 0.4-2 3.3-2 3.4 0 0.1 0 1.4 0.9 1.4 0.2 0 0.5 0 0.7 0 0.8 0 1.7-0.1 2.3 0.5 0.3 0.3 0.5 0.8 0.6 1.4 0.4 0.5 1 1.2 1 1.8 0 0.4-0.2 0.7-0.3 1 -0.1 0.2-0.2 0.4-0.2 0.5 0 0.3 0.7 1.6 1 1.9 2.2 0 2.2-1.4 2.2-1.9 0-0.3 0.2-0.5 0.4-0.6 0 0 0.6-0.2 1.2-0.8 0 0-0.1-0.1-0.1-0.1 -0.2-0.2-0.6-0.5-0.6-1 0-0.4 0.3-0.7 0.9-1.3 0.4-0.5 1.3-1.3 1.4-1.9 -0.5 0.1-1.1 0.1-1.6-0.3 -0.1-0.1-0.1-0.2-0.2-0.3 -0.2-0.6-0.4-1.3-0.6-1.6 -0.2-0.1-0.4-0.2-0.4-0.4 -0.1-0.1-0.2-0.4 0.1-0.8 0.4-0.5 2.1-1.5 3.9-1.1 1.5-0.9 2-3.2 2-3.2 0.1-0.3 0.4-0.6 0.7-0.5 0.3 0.1 0.6 0.4 0.5 0.7 0 0.1-0.6 3.1-2.8 4.2 -0.1 0.1-0.3 0.1-0.4 0 -1-0.2-1.9 0.1-2.4 0.4 0.2 0.3 0.4 0.8 0.6 1.6 0.2 0 0.5-0.1 0.7-0.2 0.2-0.1 0.5-0.1 0.7 0.1 1.3 1.3-0.3 3-1.3 4 -0.1 0.1-0.3 0.3-0.4 0.4 0 0 0 0 0 0 0.2 0.2 0.6 0.5 0.6 1 0 0.3-0.1 0.6-0.4 0.9 -0.5 0.5-1 0.8-1.3 1C14.6 19.8 13.2 20.8 11.1 20.8z"/></svg>
                    </a>
                {% endif %}

                {% block profilewrapper_favorite %}
                    {% if app.user and app.user != ensieUser %}
                        {% if isFriend(app.user, ensieUser) %}
                            <a href="{{ path('user_remove_friend', {'friendSlug': ensieUser.slug}) }}"
                               class="favorite active">
                                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0"
                                     viewBox="0 0 98.6 92.6" enable-background="new 0 0 98.6 92.6" xml:space="preserve"><path
                                            fill-rule="evenodd" clip-rule="evenodd"
                                            d="M20.7 89.1l7.1-31.7L4.1 35.5l31.1-4.9L49.3 4l14.1 26.6 31.1 4.9L70.8 57.4l6.7 31.7L49.3 74.4 20.7 89.1zM49.3 69.5L71.4 81l-5.3-25.2L85 38.5l-24.3-3.8L49.3 13.1 37.9 34.6l-24.3 3.8 18.9 17.4L26.9 81 49.3 69.5z"/>
                                    <path d="M80.1 92.6L49.3 76.5 18 92.6l7.8-34.5L0 34.3l34-5.4L49.3 0l15.4 28.9 34 5.4L72.9 58.1 80.1 92.6zM8.3 36.8l21.6 20 -6.5 28.8 25.9-13.3 25.5 13.3 -6.1-28.8 21.6-20 -28.1-4.4L49.3 8 36.4 32.3 8.3 36.8zM74.1 84.6L49.3 71.6 24.2 84.6l6.3-28L9.5 37.2l27.2-4.3L49.3 9.1l12.6 23.8 27.2 4.3L68.2 56.5 74.1 84.6zM17.8 39.7l16.8 15.5 -5 22.3 19.7-10.1 19.4 10.1 -4.7-22.3 16.8-15.5 -21.4-3.4L49.3 17.2 39.1 36.3 17.8 39.7z"/></svg>
                            </a>
                        {% else %}
                            <a href="{{ path('user_add_friend', {'friendSlug': ensieUser.slug}) }}" class="favorite">
                                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0"
                                     viewBox="0 0 98.6 92.6" enable-background="new 0 0 98.6 92.6" xml:space="preserve"><path
                                            fill-rule="evenodd" clip-rule="evenodd"
                                            d="M20.7 89.1l7.1-31.7L4.1 35.5l31.1-4.9L49.3 4l14.1 26.6 31.1 4.9L70.8 57.4l6.7 31.7L49.3 74.4 20.7 89.1zM49.3 69.5L71.4 81l-5.3-25.2L85 38.5l-24.3-3.8L49.3 13.1 37.9 34.6l-24.3 3.8 18.9 17.4L26.9 81 49.3 69.5z"/>
                                    <path d="M80.1 92.6L49.3 76.5 18 92.6l7.8-34.5L0 34.3l34-5.4L49.3 0l15.4 28.9 34 5.4L72.9 58.1 80.1 92.6zM8.3 36.8l21.6 20 -6.5 28.8 25.9-13.3 25.5 13.3 -6.1-28.8 21.6-20 -28.1-4.4L49.3 8 36.4 32.3 8.3 36.8zM74.1 84.6L49.3 71.6 24.2 84.6l6.3-28L9.5 37.2l27.2-4.3L49.3 9.1l12.6 23.8 27.2 4.3L68.2 56.5 74.1 84.6zM17.8 39.7l16.8 15.5 -5 22.3 19.7-10.1 19.4 10.1 -4.7-22.3 16.8-15.5 -21.4-3.4L49.3 17.2 39.1 36.3 17.8 39.7z"/></svg>
                            </a>
                        {% endif %}
                    {% endif %}
                {% endblock %}
                {% block profilewrapper_contact %}
                {% if ensieUser.contactSetting == constant('CONTACT_EVERYONE', ensieUser)
                or (app.user and ensieUser.contactSetting == constant('CONTACT_WRITERS', ensieUser))
                %}
                    {% if not app.user or (app.user and app.user != ensieUser) %}
                        <a href="#" class="email" data-action="contact-writer">
                            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 22.4 15.4" enable-background="new 0 0 22.4 15.4" xml:space="preserve"><path d="M20.2 15.4h-18c-1.2 0-2.2-1-2.2-2.2v-11C0 1 1 0 2.2 0h18c1.2 0 2.2 1 2.2 2.2v11C22.4 14.4 21.4 15.4 20.2 15.4zM2.2 1.4c-0.4 0-0.8 0.4-0.8 0.8v11c0 0.4 0.4 0.8 0.8 0.8h18c0.4 0 0.8-0.4 0.8-0.8v-11c0-0.4-0.4-0.8-0.8-0.8H2.2z"/><path d="M11.2 9.9c-0.2 0-0.3-0.1-0.4-0.2l-10-8c-0.3-0.2-0.4-0.7-0.1-1 0.2-0.3 0.7-0.4 1-0.1l9.6 7.6 9.6-7.6c0.3-0.2 0.7-0.2 1 0.1 0.2 0.3 0.2 0.8-0.1 1l-10 8C11.5 9.9 11.4 9.9 11.2 9.9z"/></svg>
                        </a>
                    {% endif %}
                {% endif %}
                {% endblock %}
            </div>
        {% endblock %}
        {% block bio %}
        {% endblock %}
    </div>
{% endblock %}

{% block overlays_extra %}
    {% if ensieUser.contactSetting == constant('CONTACT_EVERYONE', ensieUser)
    or (app.user and ensieUser.contactSetting == constant('CONTACT_WRITERS', ensieUser))
    %}
        {% if not app.user or (app.user and app.user != ensieUser) %}
            {{ render(controller('EnsieUserBundle:User:contactWriter', {'userSlug': ensieUser.slug})) }}
        {% endif %}
    {% endif %}
{% endblock %}